<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Star Projector</title>

    <link rel="stylesheet" href="style.css" />
    <script src="libs/three.min.js" defer></script>
    <script src="libs/lalolib-noglpk-module.min.js" defer></script>
    <script type="text/javascript" src="data/stars.6.js"></script>    
    <script type="text/javascript" src="data/starnames.js"></script>
    <script src="modules/linalgSP.js" defer></script>    
    <script src="script.js" defer></script>
  </head>

  <body>
  
    <div id="appW" style="grid-template-rows:2em 1fr;">
      <div id="appMenuW" style="grid-row:1;
                                grid-template-columns:1fr 1fr 1fr 1fr;">
        <div class="menuBtn" id="tourM" onclick="setWindow('appTourW')">Tour</div>
        <div class="menuBtn" id="navM" onclick="setWindow('appNavW')">Nav</div>
        <div class="menuBtn" id="comM" onclick="setWindow('appCommW')">Comm</div>
        <div class="menuBtn" id="helpM" onclick="setWindow('appHelpW')">Help</div>
      </div>

      <div class="window" id="appNavW" style="grid-row:2;
                                              grid-template-rows:auto;
                                              grid-template-columns:1fr;">        
        <div id="appNavControlW" style="grid-row:1;
                                        grid-template-rows:repeat(5,1fr);
                                        grid-template-columns:repeat(3,1fr);">
            <div class="direcBtn" id="d20" onclick="sendStepSize(this.id)">F+M-</div>
            <div class="direcBtn" id="d21" onclick="sendStepSize(this.id)">F+</div>
            <div class="direcBtn" id="d22" onclick="sendStepSize(this.id)">F+M+</div>

            <div class="direcBtn" id="d10" onclick="sendStepSize(this.id)">M-</div>
            <div class="direcBtn" id="laserStateB" onclick="switchLaser()"></div>
            <div class="direcBtn" id="d12" onclick="sendStepSize(this.id)">M+</div>

            <div class="direcBtn" id="d00" onclick="sendStepSize(this.id)">F-M-</div>
            <div class="direcBtn" id="d01" onclick="sendStepSize(this.id)">F-</div>
            <div class="direcBtn" id="d02" onclick="sendStepSize(this.id)">F-M+</div>

            <div style="grid-column:1/4;">
              Step size:
              <input id="stepSizeR" type="range" size="8" onchange="updateStepSize()">
              <span id="stepSizeT"></span>
            </div>

            <div style="grid-column:2;"><button onclick='updateCalib("add")'>ADD STAR</button></div>            
        </div>

        <div id="appNavCoordW" style="grid-row:2;
                                      grid-template-rows:repeat(3, 1fr);
                                      grid-template-columns:2fr 3fr 1fr 4fr;">
          <div style="grid-row:1; grid-column:1;" id="phiLabel"> Phi: </div>
          <div style="grid-row:1; grid-column:2;"> <input id="phiI" type="text" size="6"> </div>
          <div style="grid-row:1; grid-column:3;" id="phiUnit">ยบ</div>

          <div style="grid-row:1/3; grid-column:4;">
            <input type="radio" name="coordSysN" value="steps" onchange="updateCoordSys()">
            <span> steps </span><br>
            <input type="radio" name="coordSysN" value="spherical" onchange="updateCoordSys()">
            <span> spherical </span><br>
            <input type="radio" name="coordSysN" value="equatorial" onchange="updateCoordSys()">
            <span> equatorial </span>
          </div>
          
          <div style="grid-row:2; grid-column:1" id="thetaLabel"> Theta: </div>
          <div style="grid-row:2; grid-column:2"> <input id="thetaI" type="text" size="6"> </div>
          <div style="grid-row:2; grid-column:3" id="thetaUnit">ยบ</div>

          <div style="grid-row:3; grid-column:1/5;
                      display:grid;
                      grid-template-columns:1fr 1fr;">
            <div><button onclick="goToActStep()">go Coords</button></div>
            <div><button onclick="setZenith()">go Zenith</button></div>
          </div>
        </div>

        <div id="appNavStarsW" style="grid-row: 3;
                                      grid-template-rows: 1fr;
                                      grid-template-columns: repeat(2, 1fr);">                                      
          <div>
            <div>Select star:</div>
            <div><select id="navStarsCombo" style="width:80%;"></select></div>            
          </div>

          <div style="display:grid;
                      grid-template-columns:1fr 3fr;
                      grid-template-rows:auto;">
            <div style="grid-column:1/3">Stars filter</div>
            <div>Name:</div>
            <div><input id="namefilter" type="text" size="9"></div>
            <div>Cons:</div>
            <div><input id="consfilter" type="text" size="9"></div>
            <div>HIP:</div>
            <div><input id="hipfilter" type="text" size="9"></div>
            <div>HD:</div>
            <div><input id="hdfilter" type="text" size="9"></div>
          </div>
        </div>

        <div id="appNavCalibW" style="grid-row:4;
                                      grid-template-rows: auto;
                                      grid-template-columns: repeat(2, 1fr);">
          <div><select id="calibStarsCombo" style="width:80%;"></select></div>

          <div>
            <button onclick='updateCalib("remThis")'>remove this</button>
            <button onclick='updateCalib("remAll")'>remove all</button>
          </div>
          <div style="grid-column:1/3">
            <button onclick="calcCalib()">CALC</button>
            <button onclick="acceptCalib()">ACCEPT</button>
          </div>
        </div>

      </div>

      <div class="window" id="appCommW">

        <button onclick="startComm()">
          Start comm
        </button>
        <br/>      
        <button onclick="sendCircle()">
          Send circle
        </button>
        <br/>
        <div id="commStatus">not connected</div>

      </div>
      
    </div>
    
  </body>
</html>
